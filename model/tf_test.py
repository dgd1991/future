import tensorflow as tf
record_defaults = [[0.0], ['mydefault'], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [1.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0], [0.0]]

line='20100203,sh.600004,3,0.0009302325581395249,0.03531598513011147,0.037209302325581485,-0.03255813953488353,-0.00173333865458296,0.00904177703078882,0.024122675536102842,-0.02301632974244709,1,526.0,579.0,502.0,,1,0.9894736842105246,0.6891488451712147,0.5351974276604221,0.9970516801927998,0.1501624195196548,1.0,0.6811594202898549,0.4984724078140006,0.44404069704331584,0.6073358293553701,0.09134350623792714,2.0,0.7647058823529408,0.6293573179009855,0.5870666302247894,0.7139386932533776,0.0676742822259776,2.0,0.8320610687022899,0.7361799667837909,0.7077837541705599,0.7929723920102532,0.04794055095924943,2.0,1,0.8578164332694668,1.0,1.0,1.0,0.5,1.0,0.0,1.0,0.3333333333333333,1.0,0.0,1.0,0.2,0.0,1.0,0.0,0.5,1.0,1.0,0.0,0.7,1.0,1.0,0.0,0.525,2.0,0.14021607045372034,0.6815236766322015,24.0,39.0,18.0,28.0,23.0,0.7590361445783131,0.8412698412698414,0.5306122448979592,0.6195652173913042,0.5575916230366492,2,57,11,39,50,0,51,50.0,2,57,12,39,20,51,0,52,52.0,50,3,46,20,20,16,51,0,54,51.0,50,3,49,27,24,21,52,0,56,55.0,50,2,57,28,16,23,53,0,58,58.0,51,2,58,34,19,20,54,0,58,56.0,50,2,67,32,14,23,57,0,65,54.0,52,2,58,30,15,17,59,0,69,59.0,51,5.219237160605244,5.354946216895129,5.2147861896713055,5.376340182311014,5.094737377373672,1,2,2.678043304256777,552,525,502,0.9027777777777776,0.0008535289409857173,0.02600170333592397,0.03097998398471092,-0.02302085031509224,-0.00043925299031876433,-0.002450386914611468,0.01884386926248534,-0.023923724894282013,0.7761815041805715,0.4445640320923317,0.3354290917341617,0.6628339128086718,0.1658087360441199,2.0,0.39574111154225095,0.2500920934003261,0.24821744301156096,0.25384139417785645,0.07282450907096236,2.0,0.3016918452169597,0.2531984271156183,0.3163504529434446,0.12689437545996576,0.02424670905067069,1.0,0.5651995444543669,0.5299095311990265,0.5571559931398028,0.4754166073174739,0.017645006627670327,1.0,0,0.4526849157364885,1.0,0.0,1.0,0.0,0.0,0.0,1.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.3,0.0,1.0,0.0,0.65,0.0,0.0,0.0,0.425,1.0,0.13579601879882794,-0.25878131073671684,12.0,18.0,7.0,18.0,16.0,0.5549045955685321,0.6026314288390342,0.285283355228153,0.5110546570295194,0.4870389278103743,2.0,50.0,15.0,50.0,50,0,51,51.0,1.0,62.0,25.0,,25.0,50,0,51,50.0,49,1.0,71.0,14.0,,22.0,49,94,51,47.0,49,2.0,47.0,30.0,,13.0,49,91,51,49.0,49,1.0,60.0,25.0,,25.0,49,91,58,58.0,50,1.0,50.0,21.0,,16.0,49,91,58,50.0,49,1.0,52.0,17.0,,20.0,50,89,58,44.0,51,3.0,31.0,20.0,,11.0,52,84,70,60.0,51,0,-0.0038622491734598688,1.0,0,0.011398073986324529,1.0,0,0.06234025451468141,0.7531949097063719,0,0.06234025451468141,0.7531949097063719'
data = tf.decode_csv(line, record_defaults=record_defaults, field_delim=',', use_quote_delim=True, na_value='', name=None)
with tf.Session() as sess:
	result = sess.run(data)
	print(result)
# result = [20100203, b'sh.600004', 2.0, 0.0009302326, 0.035315987, 0.037209302, -0.03255814, -0.0017333387, 0.009041777, 0.024122676, -0.02301633, 1.0, 526.0, 579.0, 502.0, 0.0, 1.0, 0.9894737, 0.68914884, 0.53519744, 0.99705166, 0.15016241, 1.0, 0.68115944, 0.49847242, 0.4440407, 0.6073358, 0.09134351, 2.0, 0.7647059, 0.62935734, 0.58706665, 0.7139387, 0.06767428, 2.0, 0.83206105, 0.73617995, 0.70778376, 0.7929724, 0.047940552, 2.0, 1.0, 0.85781646, 1.0, 1.0, 1.0, 0.5, 1.0, 0.0, 1.0, 0.33333334, 1.0, 0.0, 1.0, 0.2, 0.0, 1.0, 0.0, 0.5, 1.0, 1.0, 0.0, 0.7, 1.0, 1.0, 0.0, 0.525, 2.0, 0.14021607, 0.6815237, 24.0, 39.0, 18.0, 28.0, 23.0, 0.7590361, 0.84126985, 0.53061223, 0.6195652, 0.5575916, 2.0, 57.0, 11.0, 39.0, 50.0, 0.0, 51.0, 50.0, 2.0, 57.0, 12.0, 39.0, 20.0, 51.0, 0.0, 52.0, 52.0, 50.0, 3.0, 46.0, 20.0, 20.0, 16.0, 51.0, 0.0, 54.0, 51.0, 50.0, 3.0, 49.0, 27.0, 24.0, 21.0, 52.0, 0.0, 56.0, 55.0, 50.0, 2.0, 57.0, 28.0, 16.0, 23.0, 53.0, 0.0, 58.0, 58.0, 51.0, 2.0, 58.0, 34.0, 19.0, 20.0, 54.0, 0.0, 58.0, 56.0, 50.0, 2.0, 67.0, 32.0, 14.0, 23.0, 57.0, 0.0, 65.0, 54.0, 52.0, 2.0, 58.0, 30.0, 15.0, 17.0, 59.0, 0.0, 69.0, 59.0, 51.0, 5.2192373, 5.354946, 5.214786, 5.3763404, 5.0947375, 1.0, 2.0, 2.6780434, 552.0, 525.0, 502.0, 0.9027778, 0.00085352897, 0.026001703, 0.030979984, -0.02302085, -0.000439253, -0.002450387, 0.018843869, -0.023923725, 0.7761815, 0.44456404, 0.3354291, 0.6628339, 0.16580874, 2.0, 0.3957411, 0.2500921, 0.24821745, 0.2538414, 0.07282451, 2.0, 0.30169186, 0.25319842, 0.31635046, 0.12689437, 0.02424671, 1.0, 0.56519955, 0.52990955, 0.55715597, 0.4754166, 0.017645007, 1.0, 0.0, 0.4526849, 1.0, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.3, 0.0, 1.0, 0.0, 0.65, 0.0, 0.0, 0.0, 0.425, 1.0, 0.13579603, -0.2587813, 12.0, 18.0, 7.0, 18.0, 16.0, 0.5549046, 0.60263145, 0.28528336, 0.51105464, 0.48703894, 2.0, 50.0, 15.0, 50.0, 50.0, 0.0, 51.0, 51.0, 1.0, 62.0, 25.0, 0.0, 25.0, 50.0, 0.0, 51.0, 50.0, 49.0, 1.0, 71.0, 14.0, 0.0, 22.0, 49.0, 94.0, 51.0, 47.0, 49.0, 2.0, 47.0, 30.0, 0.0, 13.0, 49.0, 91.0, 51.0, 49.0, 49.0, 1.0, 60.0, 25.0, 0.0, 25.0, 49.0, 91.0, 58.0, 58.0, 50.0, 1.0, 50.0, 21.0, 0.0, 16.0, 49.0, 91.0, 58.0, 50.0, 49.0, 1.0, 52.0, 17.0, 0.0, 20.0, 50.0, 89.0, 58.0, 44.0, 51.0, 3.0, 31.0, 20.0, 0.0, 11.0, 52.0, 84.0, 70.0, 60.0, 51.0, 0.0, -0.0038622492, 1.0, 0.0, 0.011398074, 1.0, 0.0, 0.062340256, 0.7531949, 0.0, 0.062340256, 0.7531949]

# raw = line.split(',')
#
# for i in range(len(raw)):
# 	if i>1:
# 		if raw[i] == '':
# 			raw[i] = 0
# 		if (float(raw[i])+0.00001)/(result[i]+0.00001)!=1.0:
# 			print(raw[i])
# 			print(result[i])
